<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <title>会话超时 - 默认</title>
    <link rel="stylesheet" type="text/css" th:href="@{/css/bower_components/bulma/css/bulma.min.css}"/>
    <link rel="stylesheet" type="text/css" th:href="@{/css/common.css}"/>
    <link href="https://cdn.bootcss.com/element-ui/2.6.1/theme-chalk/index.css" rel="stylesheet">
    <style>
        [v-cloak] {
            display: none !important;
        }
    </style>
</head>
<body>
<div id="app" v-cloak>
    <section class="hero is-danger">
        <div class="hero-body">
            <div class="container">
                <h1 class="title">
                    默认会话超时页面
                </h1>
                <h2 class="subtitle">
                    <p>请配置 `jiiiiiin.security.browser.session.sessionInvalidUrl` 属性来设置自己的会话超时页面</p>
                </h2>
            </div>
        </div>
    </section>
    <el-row class="from" style="margin-top: 50px;">
        <el-col :span="4">&nbsp;</el-col>
        <el-col :span="16">
            <el-card class="box-card">
                <h2>当前会话已失效</h2>
                <p>此页面将在{{time}}秒后跳转到登录页</p>
            </el-card>

        </el-col>
        <el-col :span="4">&nbsp;</el-col>
    </el-row>

    <footer class="footer">
        <div class="content has-text-centered">
            <p><a href="https://github.com/Jiiiiiin/jiiiiiin-security">jiiiiiin-security</a></p>
        </div>
    </footer>

</div>

<script src="https://cdn.jsdelivr.net/npm/vue"></script>
<script src="https://cdn.bootcss.com/element-ui/2.6.1/index.js"></script>
<script th:src="@{/js/common.js}"></script>

<script>
    new Vue({
        el: '#app',
        data() {
            return {
                time: 3
            }
        },
        mounted() {
            console.warn('安全模块默认的session失效提示页面,请通过`jiiiiiin.security.browser.session.sessionInvalidUrl`配置自己的页面URL')
            setInterval(() => {
                --this.time
                window.location.href = `${baseConfig.baseURL}/signIn`
            }, 3000);
        }
    })
</script>
</body>
</html>